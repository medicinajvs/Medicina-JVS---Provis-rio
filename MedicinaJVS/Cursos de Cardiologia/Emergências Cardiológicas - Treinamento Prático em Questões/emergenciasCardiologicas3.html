<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plataforma de Vídeo-Aula</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a202c; /* Cor de fundo escura para imitar a imagem */
            color: #e2e8f0; /* Cor do texto clara */
        }
        /* Estilo para a aula selecionada */
        .selected-lesson {
            background-color: #4299e1; /* Um azul mais claro para destaque */
            border: 2px solid #63b3ed; /* Borda para maior visibilidade */
        }
        /* Estilo para o contêiner do ícone/miniatura, garantindo tamanho uniforme */
        .item-thumbnail-placeholder {
            width: 80px; /* Largura da miniatura */
            height: 45px; /* Altura da miniatura (proporção 16:9 para 80px de largura) */
            background-color: #4a5568; /* Cor de fundo semelhante ao thumbnail original */
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 0.375rem; /* rounded-md */
            flex-shrink: 0; /* Impede que o item de miniatura encolha */
        }
        .item-thumbnail-placeholder i {
            font-size: 1.8rem; /* Tamanho do ícone */
            color: #CBD5E0; /* Cor do ícone */
        }

        /* Classes para ocultar a barra de rolagem */
        .hide-scrollbar::-webkit-scrollbar {
            display: none; /* Para navegadores baseados em Webkit (Chrome, Safari) */
        }

        .hide-scrollbar {
            -ms-overflow-style: none;  /* Para Internet Explorer e Edge */
            scrollbar-width: none;  /* Para Firefox */
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">
    <header class="bg-gray-900 p-4 flex items-center justify-between">
        <div class="flex items-center space-x-4">
            <!-- Logo ou Título -->
            <h1 class="text-xl font-bold text-white">Emergências Cardiológicas - Treinamento Prático em Questões</h1>
            <!-- Dropdown para seleção de módulos -->
            <select id="moduleSelector" class="bg-gray-700 text-white p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                <!-- Opções serão preenchidas via JavaScript -->
            </select>
        </div>
        <!-- Ícones de usuário e notificações foram removidos daqui -->
    </header>

    <!-- A barra de navegação que estava aqui foi removida -->

    <main class="flex-grow flex flex-col lg:flex-row p-4 space-y-4 lg:space-y-0 lg:space-x-4">
        <!-- Seção Principal do Vídeo/Material -->
        <section class="flex-1 bg-gray-800 rounded-lg shadow-lg overflow-hidden flex flex-col">
            <!-- Área do Player de Vídeo/Material (iframe para Google Drive) -->
            <div class="relative w-full h-0 pb-[56.25%] bg-black"> <!-- 16:9 Aspect Ratio -->
                <!-- O ID 'contentPlayer' permite que o JavaScript manipule este iframe para vídeos e materiais -->
                <iframe id="contentPlayer"
                        src=""
                        class="absolute inset-0 w-full h-full rounded-md"
                        frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        allowfullscreen>
                </iframe>
            </div>
            <!-- Seção para o título da aula/material e espaçamento -->
            <!-- Alterado p-4 para py-2 px-4 para reduzir o preenchimento vertical -->
            <div class="py-2 px-4 bg-gray-800 rounded-b-lg">
                <h2 id="lessonTitle" class="text-2xl font-bold text-white mb-0 text-center">Selecione um item</h2>
            </div>

            <!-- Materiais de Estudo Movidos para abaixo do título da aula -->
            <div class="p-4 bg-gray-800 rounded-lg shadow-lg mt-4">
                <h3 class="text-lg font-bold mb-4 text-white">Materiais de Estudo</h3>
                <div id="materialsContainer" class="space-y-3">
                    <!-- Conteúdo dos materiais será injetado aqui pelo JavaScript -->
                </div>
            </div>
        </section>

        <!-- Barra Lateral de Conteúdo Relacionado -->
        <aside class="w-full lg:w-80 bg-gray-800 rounded-lg shadow-lg p-4 space-y-4 overflow-y-auto hide-scrollbar max-h-[calc(100vh-160px)] lg:max-h-full">
            <h3 class="text-lg font-bold mb-4 text-white">Aulas</h3>
            <div id="videosContainer" class="space-y-3 mb-6">
                <!-- Conteúdo dos vídeos será injetado aqui pelo JavaScript -->
            </div>

            <!-- Materiais de Estudo foram movidos, então esta seção é removida daqui -->
        </aside>
    </main>

    <!-- A barra de navegação inferior foi removida completamente. -->

    <script>
        // Variável para armazenar o ID do item (aula ou material) atualmente selecionado
        let selectedItemId = null;

        // Função auxiliar para extrair o ID do vídeo ou material do link do Google Drive
        function extractIdFromGoogleDriveLink(link) {
            const regex = /\/d\/([a-zA-Z0-9_-]+)(?:[\/?].*)?$/;
            const match = link.match(regex);
            return match ? match[1] : null;
        }

        // Dados dos módulos, aulas (vídeos) e materiais de estudo
        const modulesData = [];

        // NOVO MÓDULO: Cardiologia de Hospital - Dor Torácica
        // Módulo 1 - Dor torácica e síndrome coronária aguda
        modulesData.push({
            id: 'module_dor_toracica_sca',
            title: 'Módulo 1 - Dor torácica e síndrome coronária aguda',
            path: 'Início / Módulo 1',
            videos: [{
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1SMEKsV6poXSIyFLMJ0JQ1FkGM6666GEK/view?usp=sharing'),
                title: 'Aula 01 - Abordagem da dor torácica na emergência',
                description: 'Dr. Alexandre Soeiro',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1671Et5eugGymt3t1bJAuHyyaag2KcgrK/view?usp=sharing'),
                title: 'Aula 02 - Síndrome coronariana aguda com supradesnível de ST',
                description: 'Dr. Paulo Rogério Soares',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1eVAtfL5IL06FSrNHLGrbgUKjceuUpLKr/view?usp=sharing'),
                title: 'Aula 03 - Síndrome coronariana aguda sem supradesnível de ST',
                description: 'Dr. Alexandre Soeiro',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/16aGByaHLWsWfHM4J7bSTu70k7hxFCA9k/view?usp=sharing'),
                title: 'Aula 04 - Caso clínico – SCA em paciente anticoagulado',
                description: 'Dra. Tatiana de Carvalho Torres',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1twXnUT3_SUeUZjFFyNPLqeqj_QOEU7Qf/view?usp=sharing'),
                title: 'Aula 05 - Caso clínico - Trombólise em Infarto Agudo do Miocárdio',
                description: 'Dr. Alexandre Soeiro',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1U96pNUaiki2rCR7TMNeGj_lDA8DfTL_Q/view?usp=sharing'),
                title: 'Aula 06 - Caso Clínico – Choque circulatório após IAM',
                description: 'Dr. Alexandre Soeiro',
                icon: 'fas fa-video'
            }],
            materials: [{
                title: 'Material Aula 01 - Dor torácica Manole.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1Tw6HPkYVeQaZ3tqrBd9dt6yIpVcB6SN_/view?usp=sharing'
            }, {
                title: 'Material Aula 02 - Síndrome coronariana aguda com supradesnível de ST.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1q1agJYM225LJApFRYF2gUfcXafoaNpeM/view?usp=sharing'
            }, {
                title: 'Material Aula 03 - Síndrome coronariana aguda sem supradesnível de ST.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1RqHRYjExKeVKr2LMCjMEsxGqaS5hjf0S/view?usp=sharing'
            }, {
                title: 'Material Aula 04 - Caso clínico- SCA em paciente anticoagulado.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1mjSfB0-GeQkPtifEpoAd73dqyRr1nfw1/view?usp=sharing'
            }, {
                title: 'Material Aula 05 - Caso Clínico Trombólise.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1VLHORCL-_WP37Bm4YZ4PXnVftLoJNK79/view?usp=sharing'
            }, {
                title: 'Material Aula 06 - Caso Clínico Choque IAM .pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1fn2BpIFU00j6In8y5mDCmy-gFqoLMksr/view?usp=sharing'
            }]
        });

        // Módulo 2 - Valvopatias
        modulesData.push({
            id: 'module_valvopatias',
            title: 'Módulo 2 - Valvopatias',
            path: 'Início / Módulo 2',
            videos: [{
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1CSUrSovlVbM4nesNPWuqKv_kWFJaM54U/view?usp=sharing'),
                title: 'Aula 01 - Avaliação inicial do paciente valvopata na emergência',
                description: 'Dr. José Roberto de Oliveira',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1wFMDk74S7FwkDscCs-S9fENfUuEemxvt/view?usp=sharing'),
                title: 'Aula 02 - Abordagem de pacientes com valvopatia mitral na emergência',
                description: 'Dr. João Ricardo Cordeiro Fernandes',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1Sp9jh_KcXSMXDQZtyzvX2VksuT17_64x/view?usp=sharing'),
                title: 'Aula 03 - Abordagem de pacientes com valvopatia aórtica na emergência',
                description: 'Dr. Roney Orismar Sampaio',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1rHcDzuHLLTCcGzyEfT3DhxL0jcvCpKTO/view?usp=sharing'),
                title: 'Aula 04 - Endocardite infecciosa',
                description: 'Dr. Rinaldo Foccacia',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1kj7Fm-DYnhWfTfNFGumoFZtGi2xAgXpk/view?usp=sharing'),
                title: 'Aula 05 - Caso clínico - Trombose de prótese valvar',
                description: 'Dra. Tatiana de Carvalho Torres',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/18Vt2TYsLt8AR9CkrnxiHTEQloXXcQLQx/view?usp=sharing'),
                title: 'Aula 06 - Caso clínico – Choque de VD',
                description: 'Dr. Alexandre Soeiro',
                icon: 'fas fa-video'
            }],
            materials: [{
                title: 'Material Aula 01 - Avaliação inicial do paciente valvopata na emergência.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1aiuuGjPHfdoTvkQ8JbyMZY8CNipG8jVR/view?usp=sharing'
            }, {
                title: 'Material Aula 02 - Valvopatias mitrais na emergencia.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1AlcmII3VOnRtQ2OYZ2DVc4ln6JcGyPK6/view?usp=sharing'
            }, {
                title: 'Material Aula 03 - Abordagem de pacientes com valvopatia aórtica na emergência.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1HcA5UgsOxn_sMqeiclxjj_n8SiTifw5B/view?usp=sharing'
            }, {
                title: 'Material Aula 04 - Endocardite infecciosa.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1_A6_Xt9ft6Zb4xPNTfVzVjCZ2YHr2U1k/view?usp=sharing'
            }, {
                title: 'Material Aula 05 - Caso clínico - Trombose de prótese valvar.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1sYHcaoeYAewu2qISY0SAY5WMph6-DGZd/view?usp=sharing'
            }, {
                title: 'Material Aula 06 - Caso Clínico VD.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/11eUWRbK_2wjh4dSYlBB4vphys1SzeDYU/view?usp=sharing'
            }, {
                title: 'Material Aula 06 - Caso Clínico VD (1).pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1WeM82d6WlyXftc7tvcAWCRU6-qQKFBD8/view?usp=sharing'
            }]
        });

        // Módulo 3 - Arritmias e marcapasso na emergência
        modulesData.push({
            id: 'module_arritmias_marcapasso',
            title: 'Módulo 3 - Arritmias e marcapasso na emergência',
            path: 'Início / Módulo 3',
            videos: [{
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1H6xiHcZoNFrZgH7q9p1cw7GuiYqv5S_a/view?usp=sharing'),
                title: 'Aula 01 - Abordagem de pacientes com síncope na emergência',
                description: 'Dr. Fábio Américo',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1GE0dMgq8EPxo_gQK6n5YM3OuTzqQU9gN/view?usp=sharing'),
                title: 'Aula 02 - Paciente com fibrilação atrial',
                description: 'Dra. Luciana Sacilotto',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1HGLXGTs9MaCqL0_6oCGlTQe7xJw3hoJm/view?usp=sharing'),
                title: 'Aula 03 - Taquicardias supraventriculares',
                description: 'Dra. Luciana Sacilotto',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1D3G0mWA0X2DSTIbBGVlezgA6UGQsGbwk/view?usp=sharing'),
                title: 'Aula 04 - Taquicardias ventriculares',
                description: 'Prof. Cristiano Pisani',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/13Zp7dZNRQh2NWLM9YvAIE7q9F-N0h7uJ/view?usp=sharing'),
                title: 'Aula 05 - Bradicardias',
                description: 'Dr. Marco A. Valverde Akamine',
                icon: 'fas fa-video'
            }, {
                id: null, // Link não fornecido
                title: 'Aula 06 - Caso clínico – Infecção de dispositivo eletrônico de estimulação cardíaca',
                description: 'Aula sem vídeo disponível.',
                icon: 'fas fa-video-slash'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1j6E-P2UycWQS7d3bN1SxLcPnZ8V2DMH0/view?usp=sharing'),
                title: 'Aula 07 - Caso clínico – Paciente com CDI submetido à terapia elétrica',
                description: 'Dr. Alexandre Soeiro',
                icon: 'fas fa-video'
            }],
            materials: [{
                title: 'Material Aula 01 - Abordagem de Pacientes com Síncope na Emergência.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1TiVugZg5vRZwmRgHgu-edgeyIGYIIqlu/view?usp=sharing'
            }, {
                title: 'Material Aula 02 - Paciente com Fibrilação Atrial.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/18mFz3shYDVXUvnkDz0T1Gk1mY_FNTF-e/view?usp=sharing'
            }, {
                title: 'Material Aula 03 - Taquicardias supraventriculares.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/19NRpnnpWd5JTocLsQs7NNjiXzGvbTgG0/view?usp=sharing'
            }, {
                title: 'Material Aula 04 - Taquicardias ventriculares.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1sTnINC5YDL_l45fc4GOwlrm5n7GKRLLC/view?usp=sharing'
            }, {
                title: 'Material Aula 05 - Bradicardias.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1GxpFtxhvGGXp0lDgul12JcfgfmIiUFEM/view?usp=sharing'
            }, {
                title: 'Material Aula 06 - Caso clínico - Infecção DEI.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1g_ACmvKeYZsMEhp2Oz4LRs4wCdjnOj__/view?usp=sharing'
            }, {
                title: 'Material Aula 07 - Caso Clínico CDI.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1_7qNnALAIOFhp-aR1EobL2_kA-Ttgukv/view?usp=sharing'
            }]
        });

        // Módulo 4 - Insuficiência cardíaca e transplante cardíaco
        modulesData.push({
            id: 'module_ic_transplante',
            title: 'Módulo 4 - Insuficiência cardíaca e transplante cardíaco',
            path: 'Início / Módulo 4',
            videos: [{
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1aMRzogeCKxPA5-qt52X18-HIC_WmmdSr/view?usp=sharing'),
                title: 'Aula 01 - Insuficiência cardíaca com fração de ejeção reduzida descompensada',
                description: 'Dr. Múcio Tavares de Oliveira Jr',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1jwiMuu8NkwBX8J0xZHxV3lG_pTkQ3MP4/view?usp=sharing'),
                title: 'Aula 02 - Insuficiência cardíaca descompensada com fração de ejeção preservada',
                description: 'Dra. Helena Bernardi',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1nCIwHE2FcflO4tgaEftggzdoO0lg_zkt/view?usp=sharing'),
                title: 'Aula 03 - Indicações e avaliação do paciente para transplante cardíaco',
                description: 'Dr. Luís Fernando da Costa Seguro',
                icon: 'fas fa-video'
            }, {
                id: null, // Link não fornecido
                title: 'Aula 04 - Caso clínico – Rejeição de transplante cardíaco',
                description: 'Aula sem vídeo disponível.',
                icon: 'fas fa-video-slash'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1GLmT8eVTF79qjv7stOvVGz57IiLby_s/view?usp=sharing'),
                title: 'Aula 05 - Caso clínico – Infecção pulmonar em transplantado cardíaco',
                description: 'Dra. Tatiana de Carvalho Torres',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1snbHRMRrKaAwOhTkCkFce717DQyXs_aA/view?usp=sharing'),
                title: 'Aula 06 - Caso clínico – Manejo de Pacientes Transplantados na Sala de Emergência',
                description: 'Dra. Tatiana de Carvalho Torres',
                icon: 'fas fa-video'
            }],
            materials: [{
                title: 'Material Aula 01 - Insuficiência cardíaca com fração de ejeção reduzida descompensada.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1-4FH9eGekzZhXZMiE434wnHA19ejSioT/view?usp=sharing'
            }, {
                title: 'Material Aula 02 - Insuficiência Cardíaca Descompensada Com Fração de Ejeção Preservada.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1q3-GUl8bNDmbHzNSPE2Fbgmk9uKt8mwe/view?usp=sharing'
            }, {
                title: 'Material Aula 04 - Caso clínico - Manejo de pacientes transplantados na sala de emergência.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/11I9B1nCyqD4M4aNvHmVZVpXMH-v5aQts/view?usp=sharing'
            }, {
                title: 'Material Aula 05 - Caso clínico - Infecção pulmonar em transplantado cardíaco.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1AxoyW_5Kl5wWeayXAbQExGuQoYpH4-hF/view?usp=sharing'
            }, {
                title: 'Material Aula 06 - Caso Clínico Choque IAM .pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1fn2BpIFU00j6In8y5mDCmy-gFqoLMksr/view?usp=sharing'
            }]
        });

        // Módulo 5 - Miscelânea
        modulesData.push({
            id: 'module_miscelanea',
            title: 'Módulo 5 - Miscelânea',
            path: 'Início / Módulo 5',
            videos: [{
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1b79qOFY09r7oI2Oz2MaR-y5zfmXQNkOE/view?usp=sharing'),
                title: 'Aula 01 - Dissecção aguda da aorta',
                description: 'Dra. Tatiane de Carvalho Torres',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1uXBEWr7X3SUWadoipqkg51VzAsLEcxOZ/view?usp=sharing'),
                title: 'Aula 02 - Pericardites agudas e tamponamento cardíaco',
                description: 'Dr. José Roberto de Oliveira',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1wfDlfcCBi1QBi9_pyip8wEcC2v_B1vlF/view?usp=sharing'),
                title: 'Aula 03 - Emergências hipertensivas',
                description: 'Dr. Lucas Lentini',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1NLSJYv3tupqqH43TcO7E0EyIrHyl9yCz/view?usp=sharing'),
                title: 'Aula 04 - Ressuscitação cardiopulmonar',
                description: 'Dr. Leonardo Cordeiro de Paula',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1lrdBjPzfrWhH0V2q4ENPjZQqr4a6kang/view?usp=sharing'),
                title: 'Aula 05 - Cardiopata gestante',
                description: 'Dra. Walkiria Samuel Ávila',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1MXDfWBBMRXaN1_rYgrJP9br7ErxwAjc/view?usp=sharing'),
                title: 'Aula 06 - Miocardites',
                description: 'Dra. Deborah Belfort',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1mr09jU_KL-y8pfptFsERdvHmTYlzOihr/view?usp=sharing'),
                title: 'Aula 07 - Caso clínico – Infecção de ferida operatória em cirurgia cardíaca',
                description: 'Dra. Tatiane de Carvalho Torres',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1KPRjLkD6ZDcuUmXvynPng8sZMrVl_MPW/view?usp=sharing'),
                title: 'Aula 08 - Caso clínico – Sangramento em uso de anticoagulantes orais',
                description: 'Dr. Alexandre Soeiro',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1uxToMMWFevS9GXKWdKkUJbQjX6xL_kOw/view?usp=sharing'),
                title: 'Aula 09 - Caso clínico – IC em cuidados paliativos',
                description: 'Dra. Tatiana de Carvalho Torres Leal',
                icon: 'fas fa-video'
            }],
            materials: [{
                title: 'Material Aula 01 - Dissecção aguda de aorta.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1B8dqL5wn7lSggKxXGB9cyp1hdemUTiBr/view?usp=sharing'
            }, {
                title: 'Material Aula 02 - Periocardite.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1mvVUM1HhjA2S5zgV06MMyVa7i1IdR0vp/view?usp=sharing'
            }, {
                title: 'Material Aula 03 - Emergências Hipertensivas.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1-Hb0DWLGf1kGrlOQl1aszVGPr1ohLFst/view?usp=sharing'
            }, {
                title: 'Material Aula 04 - Ressuscitação_Cardiopulmonar.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1UBUtr7UcuSiihpyzFDLkiXKLPKhxRt5D/view?usp=sharing'
            }, {
                title: 'Material Aula 05 - Cardiopata gestante.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1FzBSlUyxRMUBuWs0pCnTNkgEbxdf0BVC/view?usp=sharing'
            }, {
                title: 'Material Aula 06 - Miocardite emergências cardiológicas.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1mSWCJ9nTuLyxBods5Dvap2EYwBquHvcH/view?usp=sharing'
            }, {
                title: 'Material Aula 07 - Caso clínico - Infecção de ferida operatória em cirurgia cardíaca.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1XD1KMWy7PhTyagbHjPPhMRM0e4ywjWkc/view?usp=sharing'
            }, {
                title: 'Material Aula 08 - Caso Clínico Sangramento ACO.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1u7_38FthGDwdXrFg6TSjJcumxf-K25vL/view?usp=sharing'
            }, {
                title: 'Material Aula 09 - Caso clínico IC e Cuidados Paliativos.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1iyj-ysaUTsWLdxyGGfX3tRYtkfgFYgls/view?usp=sharing'
            }]
        });

        // Módulo 6 - Procedimentos em cardiologia
        modulesData.push({
            id: 'module_procedimentos',
            title: 'Módulo 6 - Procedimentos em cardiologia',
            path: 'Início / Módulo 6',
            videos: [{
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1EXQS-1K1UQCGwle5828qnoosDWmQJuWQ/view?usp=sharing'),
                title: 'Aula 01 - Marcapasso transvenoso',
                description: 'Dr. Alexandre Soeiro',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/11GYWB5n8xVCG4cyMOyW0lD_ddmkgeCde/view?usp=sharing'),
                title: 'Aula 02 - TAVI',
                description: 'Dr. Henrique Ribeiro',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/15x5yMfW9T2EeQPrz7puaQbqeufWUlfJA/view?usp=sharing'),
                title: 'Aula 03 - Balão intraórtico',
                description: 'Dr. Alexandre Soeiro',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1k8n5BiIXUWc7MopJAXn06JoARknasEcv/view?usp=sharing'),
                title: 'Aula 04 - Suporte circulatório mecânico',
                description: 'Dra. Helena Bernardi',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1dURetMLK-FbJUO0mikBmi0wAPhL7Np1Z/view?usp=sharing'),
                title: 'Aula 05 - Ecocardiograma e Ultrassom torácico point of care na sala de emergência',
                description: 'Dra. Tatiana de Carvalho Torres',
                icon: 'fas fa-video'
            }],
            materials: [{
                title: 'Material Aula 01 - Manejo de Marcapasso Transcutâneo Transvenoso.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1tDflTMm7BV8a8x2tBwcWzEL1yOMlZx02/view?usp=sharing'
            }, {
                title: 'Material Aula 02 - TAVI.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1gT4qi74uBP2xeRtx1EPZhDUigkwrVsRp/view?usp=sharing'
            }, {
                title: 'Material Aula 03 - Balão intraórtico.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1CHBzo_0jag583ez_u16YXlv0f1gExd11/view?usp=sharing'
            }, {
                title: 'Material Aula 04 - Suporte Circulatório Mecânico.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/1QQgC0g0QVWrO4euty6U_oOfX1B6tFwV7/view?usp=sharing'
            }, {
                title: 'Material Aula 05 - Ecocardiograma e US pulmonar na sala de emergência.pdf',
                description: 'Material de estudo complementar.',
                icon: 'fas fa-file-pdf',
                link: 'https://drive.google.com/file/d/11mfpLQx3uQAshkyQYkSz0UvHToT3CoXI/view?usp=sharing'
            }]
        });

        // Módulo 7 - Treinamento prático
        modulesData.push({
            id: 'module_treinamento_pratico',
            title: 'Módulo 7 - Treinamento prático',
            path: 'Início / Módulo 7',
            videos: [{
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1CKUJb1as-aJuADQJCEHpJkPZRRR5tE_E/view?usp=sharing'),
                title: 'Aula 01 - Desfibrilação',
                description: 'Dra.Tatiana de Carvalho Torres',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1-bNugkl2GLuAdpLr0hwYgB1no8P7TbBt/view?usp=sharing'),
                title: 'Aula 02 - Cardioversão eletrica sincronizada',
                description: 'Dra. Tatiana de Carvalho Torres',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/199Wo9ZfYGwV4ZtQcgtjUUSbo9CDLPQZ_/view?usp=sharing'),
                title: 'Aula 03 - Manobras vasovagais',
                description: 'Dra. Tatiana de Carvalho Torres',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1iX3G0GtfUYIc_oCn36Zr2YEIvOV3ifY9/view?usp=sharing'),
                title: 'Aula 04 - Marca-passo transcutâneo',
                description: 'Dr. Alexandre Soeiro',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1pc5MadQYQUMLY7Xjd37UauRgd18ho0qA/view?usp=sharing'),
                title: 'Aula 05 - DEA',
                description: 'Dr. Alexandre Soeiro',
                icon: 'fas fa-video'
            }, {
                id: extractIdFromGoogleDriveLink('https://drive.google.com/file/d/1sJxSOHdTYvfLa-SjJhAJ_NLiew3vL8cY/view?usp=sharing'),
                title: 'Aula 06 - Compressão cardiotorácica',
                description: 'Dr. Alexandre Soeiro',
                icon: 'fas fa-video'
            }],
            materials: [] // Nenhum material de estudo fornecido para este módulo
        });


        /**
         * Carrega um vídeo do Google Drive no player principal e atualiza o título da aula.
         * Também gerencia o efeito de seleção na barra lateral.
         * @param {string} videoId - O ID do vídeo do Google Drive.
         * @param {string} lessonTitle - O título da aula a ser exibido.
         */
        function loadVideo(videoId, lessonTitle) {
            const contentPlayer = document.getElementById('contentPlayer');
            const titleElement = document.getElementById('lessonTitle');

            if (contentPlayer && videoId) {
                contentPlayer.src = `https://drive.google.com/file/d/${videoId}/preview`;
            } else if (contentPlayer) {
                contentPlayer.src = ''; /* Limpa o player se não houver ID válido */
            }
            if (titleElement) {
                titleElement.textContent = lessonTitle;
            }

            // Remove a seleção do item anterior, se houver
            if (selectedItemId) {
                const prevSelected = document.querySelector(`[data-id="${selectedItemId}"]`);
                if (prevSelected) {
                    prevSelected.classList.remove('selected-lesson');
                }
            }

            // Adiciona a seleção ao item atual (aula)
            selectedItemId = videoId;
            const currentSelected = document.querySelector(`[data-id="${videoId}"]`);
            if (currentSelected) {
                currentSelected.classList.add('selected-lesson');
            }
        }

        /**
         * Lida com o clique em um material de estudo, abrindo-o no campo de vídeo.
         * Também gerencia o efeito de seleção na barra lateral.
         * @param {string} link - O URL para o material de estudo.
         * @param {string} materialTitle - O título do material de estudo.
         */
        function loadMaterial(link, materialTitle) {
            const contentPlayer = document.getElementById('contentPlayer');
            const titleElement = document.getElementById('lessonTitle');

            if (contentPlayer && link) {
                // Para links de documentos do Google Drive, use 'preview' para tentar abrir no iframe
                const previewLink = link.replace('/view?usp=sharing', '/preview').replace('/edit?usp=sharing', '/preview').replace('/view?usp=drive_link', '/preview'); // Added replace for drive_link
                contentPlayer.src = previewLink;
            } else if (contentPlayer) {
                contentPlayer.src = ''; /* Limpa o player se não houver link válido */
            }
            if (titleElement) {
                titleElement.textContent = materialTitle;
            }

            // Remove a seleção do item anterior, se houver
            if (selectedItemId) {
                const prevSelected = document.querySelector(`[data-id="${selectedItemId}"]`);
                if (prevSelected) {
                    prevSelected.classList.remove('selected-lesson');
                }
            }

            // Adiciona a seleção ao item atual (material)
            selectedItemId = link; /* Usar o link completo como ID para materiais */
            const currentSelected = document.querySelector(`[data-id="${link}"]`);
            if (currentSelected) {
                currentSelected.classList.add('selected-lesson');
            }
        }

        /**
         * Renderiza as aulas e materiais do módulo atual na barra lateral.
         * @param {string} moduleId - O ID do módulo a ser renderizado.
         */
        function renderModuleContent(moduleId) {
            const videosContainer = document.getElementById('videosContainer');
            const materialsContainer = document.getElementById('materialsContainer');
            const lessonTitleElement = document.getElementById('lessonTitle');

            if (!videosContainer || !materialsContainer || !lessonTitleElement) return;

            // Encontra o módulo selecionado
            const module = modulesData.find(m => m.id === moduleId);

            if (!module) {
                console.error(`Módulo com ID ${moduleId} não encontrado.`);
                return;
            }

            let videosHtml = '';
            let materialsHtml = '';
            let firstItemId = null;
            let firstItemTitle = null;
            let firstItemType = null;

            // Renderiza os vídeos
            module.videos.forEach(item => {
                const itemDescription = item.description || '';
                // Captura o ID e título do primeiro item para carregamento inicial (prioriza o primeiro vídeo do módulo)
                if (firstItemId === null) {
                    firstItemId = item.id;
                    firstItemTitle = item.title;
                    firstItemType = 'video';
                }

                videosHtml += `
                    <div class="flex items-center space-x-3 bg-gray-700 rounded-md p-2 hover:bg-gray-600 cursor-pointer transition-colors duration-200 min-h-[60px]"
                         onclick="loadVideo('${item.id}', '${item.title.replace(/'/g, "\\'")}')" data-id="${item.id}">
                        <div class="item-thumbnail-placeholder">
                            <i class="${item.icon}"></i>
                        </div>
                        <div>
                            <p class="text-sm font-semibold text-white">${item.title}</p>
                            <p class="text-xs text-gray-400">${itemDescription}</p>
                        </div>
                    </div>
                `;
            });

            // Renderiza os materiais
            module.materials.forEach(item => {
                const itemDescription = item.description || '';
                // Captura o ID e título do primeiro item para carregamento inicial, se ainda não houver um primeiro item (prioriza vídeos)
                if (firstItemId === null && module.videos.length === 0) {
                    firstItemId = item.link; /* Usar o link como ID para materiais para seleção */
                    firstItemTitle = item.title;
                    firstItemType = 'material';
                }

                materialsHtml += `
                    <div class="flex items-center space-x-3 bg-gray-700 rounded-md p-2 hover:bg-gray-600 cursor-pointer transition-colors duration-200 min-h-[60px]"
                         onclick="loadMaterial('${item.link}', '${item.title.replace(/'/g, "\\'")}')" data-id="${item.link}">
                        <div class="item-thumbnail-placeholder">
                            <i class="${item.icon}"></i>
                        </div>
                        <div>
                            <p class="text-sm font-semibold text-white">${item.title}</p>
                            <p class="text-xs text-gray-400">${itemDescription}</p>
                        </div>
                    </div>
                `;
            });

            videosContainer.innerHTML = videosHtml;
            materialsContainer.innerHTML = materialsHtml;

            // Carrega o primeiro item (vídeo ou material) do módulo na inicialização e aplica a seleção
            if (firstItemId && firstItemTitle && firstItemType) {
                if (firstItemType === 'video') {
                    loadVideo(firstItemId, firstItemTitle);
                } else if (firstItemType === 'material') {
                    loadMaterial(firstItemId, firstItemTitle);
                }
            } else {
                // Limpa o player e o título se o módulo não tiver conteúdo
                document.getElementById('contentPlayer').src = '';
                document.getElementById('lessonTitle').textContent = 'Selecione um item';
                selectedItemId = null; // Reseta a seleção
            }
        }

        // Popula o dropdown de seleção de módulos e adiciona o event listener
        function initializeModuleSelector() {
            const moduleSelector = document.getElementById('moduleSelector');
            if (!moduleSelector) return;

            // Clear existing options before populating
            moduleSelector.innerHTML = '';

            modulesData.forEach(module => {
                const option = document.createElement('option');
                option.value = module.id;
                option.textContent = module.title;
                moduleSelector.appendChild(option);
            });

            // Adiciona listener para carregar o módulo selecionado
            moduleSelector.addEventListener('change', (event) => {
                renderModuleContent(event.target.value);
            });

            // Carrega o primeiro módulo na inicialização
            if (modulesData.length > 0) {
                moduleSelector.value = modulesData[2].id; // Define a primeira opção como selecionada
                renderModuleContent(modulesData[2].id);
            }
        }

        // Inicializa o seletor de módulos quando a página é carregada
        window.onload = initializeModuleSelector;
    </script>
</body>
</html>
